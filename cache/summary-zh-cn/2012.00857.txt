自然语言语法有两大类——建立单词之间一一对应关系模型的依赖语法和建立一个或多个对应单词组合模型的选区语法。虽然以前的无监督语法分析方法大多只关注于归纳一类语法，但我们引入了一种新的模型StructFormer，它可以同时归纳依赖结构和选区结构。为了实现这一点，我们提出了一个新的解析框架，可以联合生成选区树和依赖图。然后，我们通过一种新的依赖约束自我注意机制，以可微的方式将诱导依赖关系集成到转换器中。实验结果表明，该模型能够同时在无监督选区分析、无监督依赖分析和掩蔽语言建模方面取得很好的效果。